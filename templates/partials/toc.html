{%- if page.toc -%}
    {%- set toc = page.toc -%}
{%- elif section.toc -%}
    {%- set toc = section.toc -%}
{%- endif -%}

{%- if page.extra.toc or section.extra.toc -%}
	{%- if toc | length > 0 -%}
		<h2>{{ macros_translate::translate(key="toc", default="Table of Contents", language_strings=language_strings) }}</h2>
		<ul>
			{%- for h1 in toc -%}
				<li>
					<a href="{{ h1.permalink | safe }}">{{ h1.title }}</a>
					{%- if h1.children -%}
						<ul>
							{%- for h2 in h1.children -%}
								<li>
									<a href="{{ h2.permalink | safe }}">{{ h2.title }}</a>
								</li>
							{%- endfor -%}
						</ul>
					{%- endif -%}
				</li>
			{%- endfor -%}
		</ul>
	{%- endif -%}
{%- endif -%}
